---
date: 2025-02-27
tags:
  - Network
  - Protocol
---
# 개요

> **IP(Internet Protocol, 인터넷 프로토콜)**은 **네트워크에서 데이터를 목적지까지 전달하는 역할을 수행하는 프로토콜**이다. OSI 7계층 중 **네트워크 계층(Layer 3)**에 속하며, 데이터를 **패킷(Packet)** 단위로 전송한다.

# **IP의 특징**

## 비연결형 프로토콜(Connectionless)
- **IP는 연결을 설정하지 않고 데이터 패킷을 전송**한다.
- 송신자는 **데이터를 보낸 후 상태를 관리하지 않으며**, 수신자가 받을지 여부를 확인하지 않는다.
- 패킷이 유실될 수 있으며, **신뢰성 보장은 TCP 같은 상위 계층 프로토콜이 담당**한다. 즉 신뢰성이 없는 프로토콜이다.

## 패킷 기반 전송(Packet Switching)
- 데이터를 작은 **패킷(Packet) 단위**로 나누어 전송한다.
- 각 패킷은 **독립적으로 전송되며**, 라우터를 통해 다른 경로를 거칠 수 있다.
- 패킷이 도착한 후 다시 조립하여 원본 데이터로 복원한다.

## 주소 지정 (IP Address)
- 모든 네트워크 장치는 **고유한 IP 주소(IPv4 또는 IPv6)를 가져야 한다**.
- IP 주소는 **출발지(Source)와 목적지(Destination) 주소**를 포함하여 데이터를 전달한다.

---

# IP 주소(IP Address)

> IP 주소는 네트워크에서 **각 장치를 식별하는 유일한 주소**이다. 논리적인 주소이기 때문에 네트워크 장비가 바뀌더라도 같은 IP 주소를 할당 할 수 있다. 현재 **IPv4와 IPv6 두 가지 버전**이 존재하며, IPv6로 점차 전환되고 있다.

## IPv4 (Internet Protocol Version 4)
- **32비트(4바이트) 주소 체계**, 최대 **약 43억 개의 주소** 제공
- **점(dot)으로 구분된 4개 옥텟(Octet : 8 bit로 구성된 데이터 단위)으로 구성, 10진수 형태로 표현** (ex: `192.168.0.1`)
- **주소 부족 문제로 인해 현재는 IPv6로 전환 중**

## IPv4 종류

| 종류                 | 설명                | 예시                                                                                                        |
| ------------------ | ----------------- | --------------------------------------------------------------------------------------------------------- |
| 공인 IP (Public IP)  | 인터넷에서 사용되는 고유한 주소 | `8.8.8.8` (Google DNS)                                                                                    |
| 사설 IP (Private IP) | 내부 네트워크에서 사용되는 주소 | `192.168.0.0/8` ~ `192.168.255.255`<br>`172.16.0.0/12 ~ 172.31.255.255`<br>`10.0.0.0/16 ~ 10.255.255.255` |

## IPv6 (Internet Protocol Version 6)
- **128비트(16바이트) 주소 체계**, 약 **340 언디시틸리언(3.4 × 10³⁸) 개의 주소** 제공
- **콜론(:)으로 구분된 8개의 16진수 형태** (ex: `2001:0db8:85a3:0000:0000:8a2e:0370:7334`)
- **IPv4의 주소 부족 문제 해결** 및 **향상된 보안, 멀티캐스트 지원**

## IPv6 특징
- **주소 부족 문제 해결** (더 많은 IP 할당 가능)
- **주소 자동 설정 기능** (DHCP 없이도 자동으로 주소 할당 가능)
- **보안 강화** (IPSec 기본 지원)
- **패킷 헤더 단순화** (라우팅 성능 향상)
- **멀티캐스트 지원** (브로드캐스트 방식 제거)

---

# IP 주소 할당 방식

### 정적 할당 (Static IP)
- 관리자가 직접 설정하는 고정된 IP 주소
- **서버, 네트워크 장비(라우터, 스위치) 등에 주로 사용**
- 변경되지 않기 때문에 외부에서 쉽게 접근 가능하지만 **관리 부담이 큼**

## 동적 할당 (Dynamic IP)
- **DHCP (Dynamic Host Configuration Protocol)** 서버를 통해 자동으로 할당됨
- **가정용 인터넷, 공공 Wi-Fi, 사무실 네트워크에서 주로 사용**
- 일정 시간이 지나면 새로운 IP 주소가 할당됨 (**임시적**)

---

# IP 패킷 구조

> IP 패킷은 **IP 헤더 (20 ~ 60 Byte) + 데이터(payload)**로 구성된다.

- **IP 헤더**: 패킷을 전달하는 데 필요한 정보 포함
- **데이터 (Payload)**: 상위 계층(TCP, UDP)의 데이터 포함

## IP 헤더 필드

| 필드                     | 크기 (bit) | 설명                                            |
| ---------------------- | -------- | --------------------------------------------- |
| Version                | 4        | IP 버전 정보 (IPv4 : 4, IPv6 : 6)                 |
| Header Length (IHL)    | 4        | 헤더의 길이 (기본 20 바이트)                            |
| Total Length           | 16       | 전체 패킷 크기 (헤더 + 데이터)                           |
| Identification         | 16       | 패킷을 식별하는 값                                    |
| Flags                  | 3        | 패킷 분할 여부 표시                                   |
| Fragment Offset        | 13       | 패킷이 조각난 경우 순서 정보                              |
| Time To Live (TTL)     | 8        | 패킷이 살아있는 시간 (라우터를 지날 때마다, 라우터에서 1초 머물때 마다 감소) |
| Protocol               | 8        | 상위 계층 프로토콜 (TCP : 6, UDP : 17)                |
| Header Checksum        | 16       | 오류 검출을 위한 체크섬                                 |
| Source IP Address      | 32       | 송신자의 IP 주소                                    |
| Destination IP Address | 32       | 수신자의 IP 주소                                    |


# IP와 관련된 주요 프로토콜

| 프로토콜                                       | 역할                             |
| ------------------------------------------ | ------------------------------ |
| ICMP (Internet Control Message Protocol)   | 네트워크 상태 검사 (`ping`, `tracert`) |
| ARP (Address Resolution Protocol)          | IP 주소를 MAC 주소로 변환              |
| RARP (Reverse ARP)                         | MAC 주소를 IP 주소로 변환              |
| DHCP (Dynamic Host Configuration Protocol) | 동적 IP 주소 할당                    |
| NAT (Network Address Translation)          | 사설 IP 와 공인 IP 간의 변환            |
| IPSec (Internet Protocol Security)         | IP 보안 기능 제공                    |


---
# 참고문헌

- RFC-1918 (Address Allocation for Private Internets) : https://datatracker.ietf.org/doc/html/rfc1918

---
# 연결문서

- 