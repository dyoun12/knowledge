---
date: 2025-03-02
tags:
  - Network
---
# 개요
> Subnet이란 인터넷의 보급으로 인해 IPv4가 표현할 수 있는 주소가 부족해지자 IP주소를 효율적으로 목적에 맞게 네트워크를 분리하기 위해 도입된 분리된 네트워크를 의미한다. Subnet된 네트워크는 IP주소 뒤에 표긴된 Subnet mask를 이용해서 계산이 가능하며, 이를 이용해 특정 네트워크들이 같은 네트워크 내에 포함되어 있는지 알 수 있다.

- Subnetting : 네트워크를 작은 단위로 나누는 것
- Supernetting : 나눠진 네트워크를 합치는 것



# 예시
> 서로 다른 두 개의 IP주소가 같은 네트워크에 속해 있는지 판별하는 방법은 IP주소 와 서브넷 마스크를 2진수로 표기 후 비트의 `And`을 하면 해당 IP 주소가 속한 네트워크 주소가 나오게 된다. 이 둘을 비교하여 같으면 같은 네트워크에 있는 것으로 확인할 수 있다.

#### 두 IP의 네트워크 비교
- `202.147.17.11  255.255.255.0`
- `202.147.19.12  255.255.255.0`

```
# 서브넷 마스크를 이용한 and 연산

11001010.10010011.00010001.00001011 (202.147.17.11)
11111111.11111111.11111111.00000000
================
1101010.10010011.00010001.00000000 (202.147.17.0)

---

11001010.10010011.00010011.00001011 (202.147.19.12)
11111111.11111111.11111111.00000000
================
1101010.10010011.00100011.00000000 (202.147.19.0)
```

> 서브넷 연산 후 값이 `202.147.17.0`과 `202.147.19.0`으로 다르므로 이 두 IP는 서로 다른 네트워크임을 알 수 있다.



# FLSM (Fixed Length Subnet Mask)
> IP 주소와 동일하게 32 Bit, 10진수로 표기하며 옥텟 별로 점(`.`)으로 구분하여 작성한다. 이때 네트워크 구분은 서브넷 마스크의 1인 부분, 호스트 구분은 서브넷 마스크의 0인 부분으로 한다.

**기본 표기**
202.147.17.11 ==255.255.255.0== 

**서브넷 마스크 (2진수 표기)**
==11111111== . ==11111111== . ==11111111== . 00000000

> IP 주소의 3옥텟까지 같은 범위를 같은 네트워크로, 나머지 비트 값을 통해 호스트를 구분하게 된다. 이 때 호스트 부분이 모두 0으로 나타나는 주소는 네트워크 주소로, 모두 1로 나타나는 주소는 브로드캐스트 주소로 사용되므로 사용 가능한 IP 주소로는 해당 두개의 주소를 제외한다.

# Classful 주소 체계
> 전통적으로 IP를 나누는 기준은 표기된 첫번째 옥텟의 비트를 이용해서 네트워크를 구분했다.

| class | Octats[0] | Subnet Mask   | 비고            |
| ----- | --------- | ------------- | ------------- |
| A     | 0 ~ 127   | 255.0.0.0     |               |
| B     | 128 ~ 191 | 255.255.0.0   |               |
| C     | 192 ~ 223 | 255.255.255.0 |               |
| D     | 224 ~ 239 | -             | multi-cast 주소 |
| E     | 240 ~ 255 | -             | 연구 진행 중       |
## 문제점
- 네트워크의 크기 조정이 불가함 (서브넷 마스크가 고정된다.)
- IP 주소 낭비 문제가 심각함 (A, B 클래스에 불필요한 호스트가 많다.)



# VLSM (Variable Length Subnet Mask)
> VLSM (Variable Length Subnet Mask)란 Classful 주소 체계의 단점인 서브넷 마스크가 고정되는 부분을 해결하기 위한 Subnetting 방법으로, 서브넷 마스크의 길이를 가변 적으로 설정하는 것을 의미한다.

## 예시
> 50개씩 3개의 네트워크가 필요한 상황에서 Classful 주소체계를 사용한다면 `C Class` IP 3개를 구매, 사용 해야 한다. 

**`C Class`의 고정 서브넷 마스크**
==11111111== . ==11111111== . ==11111111== . 00000000

- 구매한 총 IP 개수 :  $256 * 3 = 768$ 개
- 네트워크 개수 : 3개
- 사용 가능한 IP 개수 : 네트워크 당 $2^8 - 2$  = 254개
- 낭비되는 총 IP 개수 : $(2^8 - 2 -50) * 3 = 618$개

> 이를 해결하기 위해 `C Class` IP 1개를 구해 한 뒤 서브네팅을 통해 네트워크를 자체적으로 분리, 기존 서브넷 마스크의 마지막 옥텟의 일부를 네트워크 주소로 사용한다.

**VLSM을 이용한 변경된 서브넷 마스크**
==11111111== . ==11111111== . ==11111111== . ==11==000000

| subnet (2진수) | ip 주소 범위 | Network 주소 | Brodcast 주소 | 사용 가능한 개수 |
| ------------ | -------- | ---------- | ----------- | --------- |
| 00XXXXXX     | 0~63     | 0          | 63          | $64-2$    |
| 01XXXXXX     | 64~127   | 64         | 127         | $64-2$    |
| 10XXXXXX     | 128~192  | 128        | 192         | $64-2$    |
| 11XXXXXX     | 193~256  | 192        | 256         | $64-2$    |

- 구매한 총 IP 개수 : 256개
- 네트워크 개수 : 4개
- 사용 가능한 IP 개수 : 네트워크 당 $(2^6 - 2) = 62$ 개
- 낭비되는 총 IP 개수 : $(2^6 - 2 - 50) * 3 + (2^6 - 2) = 98$ 개



# CIDR (Classless Inter-Domain Routing)
> Classful 주소 체계의 문제점인 A,B 클래스 IP 주소의 낭비 문제를 해결하기 위한 방법으로 전통적으로 구분해온 Class를 사용하지 않고 서브넷 마스크를 이용해 필요한 갯수에 맞게 IP를 할당하는 방법을 의미한다.

## 특징
> CIDR 표기법에서는 서브넷 마스크를 연속되는 1의 개수를 10진수로 표기한다. 이를 통해 서브넷 마스크 표현에 필요한 Bit를 ==32 Bit에서 8 Bit로 4배 줄일 수 있는 효과==가 있다.

**기본 표기**
202.147.17.11 ==255.255.255.0== 

**CIDR 표기**
202.147.17.11 ==/24== 


---
# 참고문헌

- RFC-950 (Subnetting 방법 표준) : https://www.rfc-editor.org/rfc/rfc950.html

---
# 연결문서

- 